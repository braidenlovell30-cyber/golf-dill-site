const drills = [ { id: 1, title: "Gate Drill – Short Putts", location: "Home", skill: "Putting", difficulty: "Easy", description: "Set two objects just wider than your putter head and hit 50 putts through the gate from 3 feet.", reps: "50 putts", time: "10–15 minutes" }, { id: 2, title: "Towel Strike Drill", location: "Range", skill: "Full Swing", difficulty: "Medium", description: "Place a towel 2 inches behind the ball. Hit shots without touching the towel to train ball-first contact.", reps: "20–30 balls", time: "15 minutes" }, { id: 3, title: "Ladder Lag Putting", location: "Course", skill: "Putting", difficulty: "Medium", description: "Place tees at 10, 20, 30, and 40 feet. Try to stop one ball inside each zone.", reps: "3 balls per zone", time: "15–20 minutes" }, { id: 4, title: "3-Ball Up-and-Down Challenge", location: "Course", skill: "Short Game", difficulty: "Medium", description: "Drop 3 balls around the green. Try to get at least 2 of 3 up-and-down.", reps: "5–10 locations", time: "20–30 minutes" }, { id: 5, title: "Alignment Stick Rail", location: "Home", skill: "Full Swing", difficulty: "Easy", description: "Lay an alignment stick on the ground along your target line. Rehearse swings keeping club path over the stick.", reps: "30 slow swings", time: "10 minutes" }, { id: 6, title: "Box Breathing Between Shots", location: "Course", skill: "Mental", difficulty: "Easy", description: "Before each shot, inhale 4 seconds, hold 4, exhale 4, hold 4.", reps: "Every shot for 3 holes", time: "15 minutes" } ]; const dateText = document.getElementById("dateText"); const pillLocation = document.getElementById("pillLocation"); const pillSkill = document.getElementById("pillSkill"); const pillDifficulty = document.getElementById("pillDifficulty"); const drillTitle = document.getElementById("drillTitle"); const drillDescription = document.getElementById("drillDescription"); const drillMeta = document.getElementById("drillMeta"); const btnNewRandom = document.getElementById("btnNewRandom"); const filterLocation = document.getElementById("filterLocation"); const filterSkill = document.getElementById("filterSkill"); function formatDate(date) { return date.toLocaleDateString(undefined, { weekday: "long", month: "long", day: "numeric", year: "numeric" }); } function getFilteredDrills() { const loc = filterLocation.value; const skill = filterSkill.value; return drills.filter(d => { return (!loc || d.location === loc) && (!skill || d.skill === skill); }); } function getDailyDrill() { const today = new Date(); const key = "dailyGolfDrill"; const stored = JSON.parse(localStorage.getItem(key) || "null"); const todayStr = today.toISOString().slice(0,10); const filtered = getFilteredDrills(); if (filtered.length === 0) return null; if (stored && stored.date === todayStr) { const existing = filtered.find(d => d.id === stored.id); if (existing) return existing; } const randomIndex = Math.floor(Math.random() * filtered.length); const drill = filtered[randomIndex]; localStorage.setItem(key, JSON.stringify({ date: todayStr, id: drill.id })); return drill; } function renderDrill(drill) { if (!drill) { drillTitle.textContent = "No drills match your filters."; drillDescription.textContent = "Try changing your filters."; pillLocation.textContent = ""; pillSkill.textContent = ""; pillDifficulty.textContent = ""; drillMeta.textContent = ""; return; } pillLocation.textContent = drill.location; pillSkill.textContent = drill.skill; pillDifficulty.textContent = drill.difficulty; drillTitle.textContent = drill.title; drillDescription.textContent = drill.description; drillMeta.textContent = `${drill.reps} • ${drill.time}`; } function refreshDrill() { const drill = getDailyDrill(); renderDrill(drill); } function init() { const today = new Date(); dateText.textContent = formatDate(today); refreshDrill(); } btnNewRandom.addEventListener("click", () => { const filtered = getFilteredDrills(); if (filtered.length === 0) { renderDrill(null); return; } const randomIndex = Math.floor(Math.random() * filtered.length); renderDrill(filtered[randomIndex]); }); filterLocation.addEventListener("change", refreshDrill); filterSkill.addEventListener("change", refreshDrill); init();